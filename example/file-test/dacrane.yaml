kind: resource
name: test-file
argument:
  - name: version
    default: 16.20.1
  - name: src_files
    default: "**/*.js"
  - name: package
    default: ./package.json
  - name: package-lock
    default: ./package-lock.json
  - name: build
    default: npm ci
  - name: run
    default: npm start
provider: file
parameters:
  filename: ./Dockerfile
  contents: >
    FROM node:${{ config.version }}-alpine3.18

    COPY ${{ config.src_files }} ${{ config.src_files }} 

    COPY ./package.json ./package.json

    COPY ./package-lock.json ./package-lock.json

    RUN npm ci

    CMD [ "npm", "start" ]

# parameterはconfigへ
